<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Undangan Pernikahan Hasbi & Dea</title>
  <meta name="description" content="Undangan Pernikahan Hasbi & Dea - 29 September 2025">

  <!-- === FONT ARAB (letakkan file di folder fonts/) === -->
  <style>
    @font-face {
      font-family: "Urdu Typesetting";
      src: url("fonts/UrdType.ttf") format("truetype");
      font-weight: normal;
      font-style: normal;
    }
    @font-face {
      font-family: "DecoType Naskh Extension";
      src: url("fonts/DecoType Naskh Extensions Regular.ttf") format("truetype");
      font-weight: normal;
      font-style: normal;
    }

    /* ===== GLOBAL ===== */
    :root{
      --accent:#c49b63;
      --accent-dark:#b38b55;
      --bg:#fdfaf4;
      --text:#4a3c2a;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Georgia", serif;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      scroll-behavior:smooth;
    }
    a{color:var(--accent); text-decoration:none}

    /* ===== HERO ===== */
    .hero{
      position:relative;
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background: url("img/hero.jpg") center/cover no-repeat;
      text-align:center;
      color:#fff;
      flex-direction:column;
    }
    .hero-overlay{ position:absolute; inset:0; background:rgba(0,0,0,0.35); }
    .hero-content{ position:relative; z-index:2; animation:heroIn .9s ease both; }
    @keyframes heroIn { from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:none} }
    .hero h1{ font-size:2.6rem; margin:0 0 8px; letter-spacing:1px }
    .hero p{ margin:0 0 12px }
    .btn-undangan{
      background:var(--accent);
      color:#fff;
      padding:10px 22px;
      border-radius:25px;
      border:none;
      cursor:pointer;
      font-size:1rem;
    }
    .btn-undangan:hover{ background:var(--accent-dark) }

    /* countdown */
    .countdown{ display:flex; gap:12px; margin-top:18px; justify-content:center; flex-wrap:wrap }
    .count-box{ background: rgba(255,255,255,0.18); padding:8px 12px; border-radius:10px; backdrop-filter: blur(3px); font-weight:600 }

    /* ===== SECTIONS ===== */
    section{ max-width:920px; margin:40px auto; padding:30px 18px; text-align:center; }
    h2{ font-size:1.9rem; color:#8b6b48; margin-bottom:18px }
    p{ font-size:1.05rem; line-height:1.7; margin:12px 0 }

    /* ===== ARABIC STYLES ===== */
    .bismillah, .salam { font-family:"Urdu Typesetting", serif; font-size:2rem; direction:rtl; text-align:center; margin:6px 0; }
    .ayat { font-family:"DecoType Naskh Extension", serif; font-size:1.45rem; line-height:2; direction:rtl; text-align:center; margin:8px 0 18px }

    /* ===== GALLERY (collage) ===== */
    .gallery-collage{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      grid-auto-rows: 140px;
      gap:10px;
    }
    /* Responsive columns */
    @media (max-width:1000px){ .gallery-collage{ grid-template-columns: repeat(3,1fr); grid-auto-rows:120px } }
    @media (max-width:640px){ .gallery-collage{ grid-template-columns: repeat(2,1fr); grid-auto-rows:120px } }

    .gallery-collage img{
      width:100%;
      height:100%;
      object-fit:cover;
      border-radius:12px;
      box-shadow:0 3px 8px rgba(0,0,0,0.12);
      transform:scale(.95);
      opacity:0;
      transition:transform .6s ease, opacity .6s ease;
    }
    .gallery-collage img.show{ transform:scale(1); opacity:1; }

    /* Size variants */
    .big { grid-column: span 2; grid-row: span 2; }
    .wide { grid-column: span 2; }

    /* ===== REKENING ===== */
    .rekening-card{
      background:#fff;
      border-radius:14px;
      padding:14px;
      box-shadow:0 3px 10px rgba(0,0,0,0.06);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      max-width:640px;
      margin:14px auto;
      transform:translateY(12px);
      opacity:0;
      transition:all .7s cubic-bezier(.2,.9,.3,1);
    }
    .rekening-card.show{ transform:none; opacity:1 }
    .rekening-info{ text-align:left; font-size:1rem }
    .rekening-info strong{ display:block; font-size:1.05rem; margin-bottom:4px }
    .copy-btn{ background:var(--accent); color:#fff; border:none; padding:8px 12px; border-radius:8px; cursor:pointer }
    .copy-btn:hover{ background:var(--accent-dark) }

    /* ===== RSVP POPUP ===== */
    .popup{ display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:1200; align-items:center; justify-content:center }
    .popup .popup-content{ width:92%; max-width:420px; padding:18px; border-radius:12px; background:#fff; text-align:center }
    .popup .popup-content input, .popup .popup-content select{ width:92%; padding:10px; margin:8px 0; border-radius:8px; border:1px solid #ddd }

    /* ===== MUSIC BUTTON ===== */
    #music-control{
      position:fixed; right:18px; bottom:18px; z-index:1300;
      width:52px; height:52px; border-radius:50%; background:var(--accent); color:#fff;
      display:flex; align-items:center; justify-content:center; font-size:20px; cursor:pointer; box-shadow:0 4px 12px rgba(0,0,0,0.2)
    }

    /* ===== TOAST ===== */
    .toast{
      position:fixed; left:50%; transform:translateX(-50%); bottom:90px;
      background: #333; color:#fff; padding:10px 16px; border-radius:20px; display:none; z-index:1400;
      font-size:0.95rem;
    }

    /* small screens tweaks */
    @media (max-width:560px){
      .hero h1{ font-size:2rem }
      .bismillah{ font-size:1.6rem }
      .ayat{ font-size:1.1rem }
    }
  </style>
</head>
<body>

  <!-- HERO -->
  <div class="hero" aria-hidden="false">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1>Hasbi & Dea</h1>
      <p>29 September 2025</p>
      <button class="btn-undangan" onclick="document.getElementById('ayat-section').scrollIntoView({behavior:'smooth'});">Lihat Undangan</button>

      <div class="countdown" aria-hidden="true">
        <div class="count-box"><span id="days">00</span><br>Hari</div>
        <div class="count-box"><span id="hours">00</span><br>Jam</div>
        <div class="count-box"><span id="minutes">00</span><br>Menit</div>
        <div class="count-box"><span id="seconds">00</span><br>Detik</div>
      </div>
    </div>
  </div>

  <!-- AYAT + PEMBUKA -->
  <section id="ayat-section">
    <p class="bismillah" dir="rtl">﷽</p>

    <p class="ayat" dir="rtl">
      وَمِنْ آيَاتِهِ أَنْ خَلَقَ لَكُم مِّنْ أَنفُسِكُمْ أَزْوَاجًا لِّتَسْكُنُوا إِلَيْهَا وَجَعَلَ بَيْنَكُمْ مَّوَدَّةً وَرَحْمَةً ۚ إِنَّ فِي ذَٰلِكَ لَآيَاتٍ لِّقَوْمٍ يَتَفَكَّرُونَ
    </p>

    <p class="salam" dir="rtl">السلام عليكم ورحمة الله وبركاته</p>

    <p>Dengan memohon rahmat dan ridho Allah Subhanahu Wa Ta'ala, kami bermaksud menyelenggarakan resepsi pernikahan putra-putri kami. Merupakan suatu kehormatan dan kebahagiaan bila Bapak/Ibu/Saudara/i berkenan hadir dan memberikan doa restu.</p>
  </section>

  <!-- ACARA -->
  <section id="acara">
    <h2>Save The Date</h2>
    <p><strong>Senin, 29 September 2025</strong><br>08.00 WIB - Selesai</p>
    <p><strong>Tempat:</strong><br>Kp. Pantilaksana RT 001 RW 006 Desa Cikawungading Kec. Cipatujah</p>
    <iframe class="map-frame" src="https://maps.google.com/maps?q=-7.7507986,108.0818283&z=15&output=embed" loading="lazy" title="Lokasi"></iframe>
  </section>

  <!-- MEMPELAI -->
  <section>
    <h2>Mempelai</h2>
    <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:14px; align-items:start">
      <div style="text-align:center">
        <img src="img/hasbi.jpg" style="width:100%; border-radius:12px; box-shadow:0 3px 8px rgba(0,0,0,0.12)" alt="Hasbi" loading="lazy">
        <p>Anak Kedua dari<br>(Alm) H.Dadan Hindani & Ibu Hj. Yani Nuryani</p>
      </div>
      <div style="text-align:center">
        <img src="img/dea.jpg" style="width:100%; border-radius:12px; box-shadow:0 3px 8px rgba(0,0,0,0.12)" alt="Dea" loading="lazy">
        <p>Anak Pertama dari<br>Bapak Acep Suyana & Ibu Dewi Yulianti</p>
      </div>
    </div>
  </section>

  <!-- GALERI KOLOSE -->
  <section>
    <h2>Galeri Prewed</h2>
    <div class="gallery-collage" aria-hidden="false">
      <img src="img/galeri1.jpg" class="big zoom" alt="galeri1" loading="lazy">
      <img src="img/galeri2.jpg" class="zoom" alt="galeri2" loading="lazy">
      <img src="img/galeri3.jpg" class="zoom" alt="galeri3" loading="lazy">
      <img src="img/galeri4.jpg" class="wide zoom" alt="galeri4" loading="lazy">
      <img src="img/galeri5.jpg" class="zoom" alt="galeri5" loading="lazy">
      <img src="img/galeri6.jpg" class="zoom" alt="galeri6" loading="lazy">
      <img src="img/galeri7.jpg" class="zoom" alt="galeri7" loading="lazy">
      <img src="img/galeri8.jpg" class="zoom" alt="galeri8" loading="lazy">
    </div>
  </section>

  <!-- KIRIM HADIAH / REKENING -->
  <section>
    <h2>Kirim Hadiah</h2>
    <p>Do'a dan restu Bapak/Ibu/Saudara/i merupakan anugerah bagi kami. Dan jika memberi merupakan ungkapan tanda kasih. Maka Bapak/Ibu/Saudara/i dapat berbagi kebahagian dengan memberikan kado secara cashless. Terima kasih:</p>

    <div class="rekening-card" data-anim>
      <div style="display:flex;gap:12px;align-items:center">
        <img src="img/bri-logo.png" alt="BRI" width="52" height="52">
        <div class="rekening-info">
          <strong>Hasbi Assidqi</strong>
          BRI: <span id="rek1">437701009596534</span>
        </div>
      </div>
      <button class="copy-btn" onclick="copyRek('rek1')">Copy</button>
    </div>

    <div class="rekening-card" data-anim>
      <div style="display:flex;gap:12px;align-items:center">
        <img src="img/bri-logo.png" alt="BRI" width="52" height="52">
        <div class="rekening-info">
          <strong>Dea Sopia</strong>
          BRI: <span id="rek2">437501017612538</span>
        </div>
      </div>
      <button class="copy-btn" onclick="copyRek('rek2')">Copy</button>
    </div>
  </section>

  <!-- RSVP -->
  <section>
    <h2>Konfirmasi Kehadiran</h2>
    <button class="btn-undangan" id="rsvp-btn" onclick="openPopup()">Isi RSVP</button>
  </section>

  <div class="popup" id="rsvp-popup" aria-hidden="true">
    <div class="popup-content">
      <button style="float:right;background:none;border:none;font-size:18px;cursor:pointer" onclick="closePopup()">✖</button>
      <h3>Konfirmasi Kehadiran</h3>
      <input type="text" id="nama" placeholder="Nama">
      <select id="status">
        <option value="">Pilih Kehadiran</option>
        <option value="Hadir">Hadir</option>
        <option value="Tidak Hadir">Tidak Hadir</option>
      </select>
      <input type="number" id="jumlah" placeholder="Jumlah Tamu" min="1">
      <button onclick="kirimRSVP()">Kirim</button>
    </div>
  </div>

  <!-- UCAPAN TERIMA KASIH & SALAM PENUTUP -->
  <section>
    <p>Merupakan suatu kebahagiaan dan kehormatan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir dan memberikan doa restu.</p>
    <p class="salam" dir="rtl">والسلام عليكم ورحمة الله وبركاته</p>
    <p style="font-size:0.9rem;color:#777;margin-top:18px">Made by <strong>Anaku Photocopy - Portal Pamijahan</strong></p>
  </section>

  <!-- AUDIO & MUSIC CONTROL -->
  <audio id="bg-audio" loop>
    <source src="audio.mp3" type="audio/mp3">
  </audio>
  <div id="music-control" title="Kontrol musik">🔊</div>

  <!-- TOAST -->
  <div class="toast" id="toast">Tersalin</div>

  <script>
    // ---------------- COUNTDOWN ----------------
    const countDownDate = new Date("Sep 29, 2025 08:00:00").getTime();
    const x = setInterval(() => {
      const now = Date.now();
      const distance = countDownDate - now;
      if (distance < 0) {
        document.querySelector(".countdown").innerHTML = "<div class='count-box'>Acara Sedang Berlangsung 🎉</div>";
        clearInterval(x);
        return;
      }
      document.getElementById("days").textContent = Math.floor(distance / (1000*60*60*24));
      document.getElementById("hours").textContent = Math.floor((distance % (1000*60*60*24)) / (1000*60*60));
      document.getElementById("minutes").textContent = Math.floor((distance % (1000*60*60)) / (1000*60));
      document.getElementById("seconds").textContent = Math.floor((distance % (1000*60)) / 1000);
    }, 1000);

    // ---------------- INTERSECTION OBSERVER (ANIMASI) ----------------
    const io = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if(entry.isIntersecting){
          entry.target.classList.add('show');
        }
      });
    }, { threshold: 0.18 });

    // observe gallery images, rekening cards, headings, btns
    document.querySelectorAll('.gallery-collage img, .rekening-card, h2, .btn-undangan, .hero-content').forEach(el => {
      io.observe(el);
    });

    // Ensure gallery images get 'show' class when intersect
    // (images already selected above)

    // ---------------- COPY REKENING ----------------
    const toast = document.getElementById('toast');
    function showToast(msg){
      toast.textContent = msg;
      toast.style.display = 'block';
      setTimeout(()=> toast.style.display='none', 2000);
    }

    function copyRek(id){
      const text = document.getElementById(id).textContent.trim();
      if(navigator.clipboard){
        navigator.clipboard.writeText(text).then(()=> showToast("Nomor rekening telah disalin ✅"))
        .catch(()=> { alert("Gagal menyalin. Silakan salin manual: " + text); });
      }else{
        // fallback
        const ta = document.createElement('textarea');
        ta.value = text; document.body.appendChild(ta); ta.select(); try{ document.execCommand('copy'); showToast("Nomor rekening telah disalin ✅"); }catch(e){ alert("Gagal menyalin: " + text); } ta.remove();
      }
    }

    // ---------------- RSVP POPUP ----------------
    function openPopup(){ document.getElementById('rsvp-popup').style.display='flex'; document.getElementById('rsvp-popup').setAttribute('aria-hidden','false'); }
    function closePopup(){ document.getElementById('rsvp-popup').style.display='none'; document.getElementById('rsvp-popup').setAttribute('aria-hidden','true'); }
    function kirimRSVP(){
      const nama = document.getElementById('nama').value.trim();
      const status = document.getElementById('status').value;
      const jumlah = document.getElementById('jumlah').value;
      if(!nama || !status || !jumlah){ alert("Lengkapi semua field!"); return; }
      alert("Terima kasih! RSVP Anda telah terkirim.");
      closePopup();
    }

    // ---------------- MUSIC: start on first click anywhere; control button toggles pause/resume ----------------
    const audio = document.getElementById('bg-audio');
    const musicBtn = document.getElementById('music-control');
    let started = false;

    function startMusicOnce(){
      if(started) return;
      audio.play().catch(()=>{/* autoplay blocked, user will have to click control */});
      started = true;
      // don't remove listener - keep to allow clicking anywhere to start if initial was blocked
    }
    // Listen for first meaningful interaction - click/touch
    const onceHandler = (e) => {
      startMusicOnce();
      document.removeEventListener('click', onceHandler);
      document.removeEventListener('touchstart', onceHandler);
    };
    document.addEventListener('click', onceHandler);
    document.addEventListener('touchstart', onceHandler);

    // music control: toggle pause/resume only via this button
    musicBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      if(audio.paused){
        audio.play().catch(()=> { alert("Browser memblokir pemutaran otomatis. Silakan klik lagi agar musik diputar."); });
        musicBtn.textContent = '🔊';
      } else {
        audio.pause();
        musicBtn.textContent = '🔇';
      }
    });

    // update button icon based on audio state
    audio.addEventListener('play', ()=> musicBtn.textContent='🔊');
    audio.addEventListener('pause', ()=> musicBtn.textContent='🔇');

    // ---------------- small accessibility / keyboard start music ----------------
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Enter' || e.key === ' '){ startMusicOnce(); }
    });

    // ---------------- ensure images that already in view get 'show' ----------------
    window.addEventListener('load', () => {
      document.querySelectorAll('.gallery-collage img').forEach(img => {
        // if already in viewport, add show
        const rect = img.getBoundingClientRect();
        if(rect.top < window.innerHeight && rect.bottom > 0) img.classList.add('show');
      });
    });
  </script>
</body>
</html>

